<div class="col-md-6 col-md-offset-0">
    <form novalidate name="userForm" ng-submit="createCtrl.saveUser()">
        <h4> Add new user </h4>
        <div class="form-group" ng-class="{'has-error': userForm.username.$invalid && userForm.username.$touched }">
            <label for="userName">Username</label>
            <input name="username" type="text" class="form-control" ng-model="createCtrl.username" ng-required="true" ng-minlength="6" />
            <div class="error-container" ng-messages="userForm.username.$error" ng-if="userForm.username.$touched">
                <p ng-message="minlength" class="text text-danger">Username should be at least 6 characters!</p>
                <p ng-message="required" class="text text-danger">Username is required!</p>
            </div>
        </div>

        <div class="form-group" ng-class="{'has-error': userForm.password.$invalid && userForm.password.$touched }">
            <label for="password">Password</label>
            <input name="password" type="password" class="form-control" ng-model="createCtrl.password" ng-required="true" ng-minlength="6" />
            <div ng-messages="userForm.password.$error" class="error-container" ng-if="userForm.password.$touched">
                <p ng-message="required" class="text text-danger">Password is required!</p>
                <p ng-message="minlength" class="text text-danger">Password should be six characters!</p>
            </div>
        </div>

        <div class="form-group" ng-class="{'has-error': userForm.emailAddress.$invalid && userForm.emailAddress.$touched}">
            <label for="emailAddress">Email</label>
            <input type="email" name="email" class="form-control" ng-model="createCtrl.email" ng-required="true" ng-model-options="{updateOn:blur}" />
            <div ng-messages="userForm.email.$error" class="error-container" ng-if="userForm.email.$touched">
                <p ng-message="required" class="text text-danger">Email is required!</p>
                <p ng-message="email" class="text text-danger">Email must be valid! </p>
            </div>
        </div>

        <div class="form-group" ng-class="{'has-error': userForm.firstName.$invalid && userForm.firstName.$touched}">
            <label for="firstName">First Name</label>
            <input type="text" name="firstName" class="form-control" ng-model="createCtrl.firstName" />
        </div>

        <div class="form-group" ng-class="{'has-error': userForm.lastName.$invalid && userForm.lastName.$touched}">
            <label for="lastName">Last Name</label>
            <input type="text" name="lastName" class="form-control" ng-model="createCtrl.lastName" />
        </div>

        <div class="form-group" ng-class="{'has-error': userForm.role.$invalid && userForm.role.$touched}">
            <label for="Role"> Role</label>
            <select class="form-control"
                    name="role"
                    required
                    ng-options="role as role.name for role in createCtrl.roles"
                    ng-model="createCtrl.selectedRole"
                    ng-model-options="{updateOn:blur}">
                <option value="">Select role</option>
            </select>

            <div ng-messages="userForm.role.$error" class="error-container" ng-if="userForm.role.$touched">
                <p ng-message="required" class="text text-danger">Role is required</p>
            </div>
        </div>

        <div>
            <div class="text-right">
                <button type="submit" ng-disabled="userForm.$invalid" class="btn btn-primary">Save</button>
                <a ui-sref="users.list" class="btn btn-primary">Cancel</a>
            </div>  
        </div>
    </form>
</div>
